function log(e){var t=document.createElement("h2"),n=document.createTextNode(e);t.appendChild(n),document.getElementById("text").appendChild(t)}function optionalParam(e,t){log(e+" "+t)}function defaultParam(e,t){void 0===t&&(t="Milici"),log(e+" "+t)}function restParams(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];log(e+" "+t.join(" "))}function test2(e,t){console.log(e+t)}function processData(e){console.log(typeof e)}function identity(e){return e}define(["require","exports","Updater"],function(e,t,n){var i=function(){function e(e,t,n){var i=this;this.Loader=e,this.Camera=t,this.Renderer=n,this.then=Date.now(),this.now=void 0,this.delta=void 0,this.frameID=void 0,this.fps=30,this.interval=1e3/this.fps,this.ResizeWindow=function(){var e={width:i.Renderer.container.offsetWidth,height:i.Renderer.container.offsetHeight};i.Renderer.setSize(e.width,e.height),i.Camera.aspect=e.width/e.height,i.Camera.updateProjectionMatrix()},this.Start(),window.addEventListener("resize",this.ResizeWindow,!1),console.info("new animator created")}return e.prototype.Start=function(){this.render()},e.prototype.render=function(){var e=this;this.frameID=requestAnimationFrame(function(){return e.render()}),this.now=Date.now(),this.delta=this.now-this.then,this.delta<this.interval||(this.then=this.now-this.delta%this.interval,n.Update(),this.Renderer.render(this.Loader.Scene,this.Camera))},e}();return i}),require.config({paths:{three:"../../bower_components/three.js/three"}}),require(["Main"],function(e){e.Start()});var Greeter=function(){function e(e){this.greeting=e}return e.prototype.greet=function(){log(this.greeting)},e}(),BankAccount=function(){function e(){}return e.getAccountNumber=function(){return e.accountNumber},e.accountNumber=12341234,e}(),Account_3=function(){function e(){this._balance=0}return Object.defineProperty(e.prototype,"balance",{get:function(){return this._balance},set:function(e){100>=e&&(this._balance=e)},enumerable:!0,configurable:!0}),e}(),Constants=function(){function e(){}return Object.defineProperty(e,"STATIC_NUMBER",{get:function(){return 0x4626dbf9a01f2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"STATIC_STRING",{get:function(){return"test_test_test_test"},enumerable:!0,configurable:!0}),e}(),Account_2=function(){function e(){}return Object.defineProperty(e.prototype,"accountInfo",{get:function(){return{staticNumber:Constants.STATIC_NUMBER,staticString:Constants.STATIC_STRING}},enumerable:!0,configurable:!0}),e}(),Account=function(){var e=100,t=function(){log(e.toString())};return{getBalance:t}}(),ConstructorTest=function(){function e(e){this.message=e}return e.prototype.sayMessage=function(){log(this.message)},e}();define(["require","exports","three","Updater","Portal"],function(e,t,n,i,r){var o=function(){function e(e,t,r,o){var a=this;this.Camera=e,this._PI_2=Math.PI/2,this._sensitivity=.002,this._moveSpeed=.2,this._height=2,this._orangePortalButtonNum=3,this._bluePortalButtonNum=1,this.onMouseMove=function(e){var t=e.movementX||e.mozMovementX||e.movementX||0,n=e.movementY||e.mozMovementY||e.movementY||0;a._yawObject.rotation.y-=t*a._sensitivity,a._pitchObject.rotation.x-=n*a._sensitivity,a._pitchObject.rotation.x=Math.max(-a._PI_2,Math.min(a._PI_2,a._pitchObject.rotation.x))},this.onMouseDown=function(e){var t=e.which;(t==a._orangePortalButtonNum||t==a._bluePortalButtonNum)&&a.fire(t)},this.onKeyDown=function(e){switch(e.keyCode){case 38:case 87:a._moveForward=!0,a._velocity.z=-a._moveSpeed;break;case 37:case 65:a._moveLeft=!0,a._velocity.x=-a._moveSpeed;break;case 40:case 83:a._moveBackward=!0,a._velocity.z=a._moveSpeed;break;case 39:case 68:a._moveRight=!0,a._velocity.x=a._moveSpeed;break;case 32:}},this.onKeyUp=function(e){switch(e.keyCode){case 38:case 87:a._moveForward=!1,a._velocity.z=0;break;case 37:case 65:a._moveLeft=!1,a._velocity.x=0;break;case 40:case 83:a._moveBackward=!1,a._velocity.z=0;break;case 39:case 68:a._moveRight=!1,a._velocity.x=0}},this.requestPointerLock=function(e){a._element.requestPointerLock=a._element.requestPointerLock||a._element.mozRequestPointerLock||a._element.webkitRequestPointerLock,/Firefox/i.test(navigator.userAgent)?a.fullscreen():a._element.requestPointerLock()},this.pointerLockChange=function(e){document.pointerLockElement===a._element||document.mozPointerLockElement===a._element?a.Toggle(!0):a.Toggle(!1)},this._level=r,this._loader=o,this._element=t,this._velocity=new n.Vector3,this._moveRaycaster=new n.Raycaster,this._aimRaycaster=new n.Raycaster,this._testCube=this.makeMesh(),this._crossHair=new n.Vector2(window.innerWidth/2/window.innerWidth*2-1,2*-(window.innerHeight/2/window.innerHeight)+1),this._havePointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,this._pitchObject=new n.Mesh,e.rotation.set(0,0,0),this._pitchObject.add(e),this._yawObject=new n.Mesh,this._yawObject.add(this._pitchObject),this._yawObject.add(this._testCube),this.addEvents(),i.Add(this)}return e.prototype.Update=function(){this.move()},e.prototype.GetObject=function(){return this._yawObject},e.prototype.GetHeight=function(){return this._height},e.prototype.SetSensitivity=function(e){this._sensitivity=e},e.prototype.SetSpeed=function(e){this._moveSpeed=e},e.prototype.Toggle=function(e){0==e?this.removeMoveEvents():this.addMoveEvents()},e.prototype.addEvents=function(){this._havePointerLock===!1?console.error("Your browser doesn't support Pointer Lock API"):(this._element.addEventListener("click",this.requestPointerLock,!1),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!1),document.addEventListener("pointerlockchange",this.pointerLockChange,!1))},e.prototype.addMoveEvents=function(){this._element.addEventListener("mousedown",this.onMouseDown,!1),this._element.addEventListener("mousemove",this.onMouseMove,!1),document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1)},e.prototype.removeMoveEvents=function(){this._element.removeEventListener("mousedown",this.onMouseDown,!1),this._element.removeEventListener("mousemove",this.onMouseMove,!1)},e.prototype.fullscreen=function(){var e=this._element,t=function(n){(document.fullscreenElement===e||document.mozFullScreenElement===e)&&(document.removeEventListener("fullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),e.requestPointerLock())};document.addEventListener("fullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),this._element.requestFullscreen=this._element.requestFullscreen||this._element.mozRequestFullscreen||this._element.mozRequestFullScreen||this._element.webkitRequestFullscreen,this._element.requestFullscreen(),this._loader.Animator.ResizeWindow()},e.prototype.checkCollision=function(e){var t=new n.Vector3,i=new n.Vector3,r=new n.Vector3;i.copy(e).normalize(),r.copy(i).applyQuaternion(this._yawObject.quaternion),t.add(r),t.add(this._yawObject.position),this._moveRaycaster.set(t,new n.Vector3(0,-1,0));var o=this._moveRaycaster.intersectObjects(this._level.Rooms);return void 0!==o[0]?!0:!1},e.prototype.move=function(){this.checkCollision(this._velocity)!==!1&&(this._yawObject.translateZ(this._velocity.z),this._yawObject.translateX(this._velocity.x))},e.prototype.aim=function(){this._aimRaycaster.setFromCamera(this._crossHair,this.Camera);var e=this._aimRaycaster.intersectObjects(this._level.Rooms),t=e[0];if(t){var i=t.face.normal,r=new n.Mesh;return r.position.set(0,0,0),r.lookAt(new n.Vector3(i.x,-i.z,i.y)),r.position.copy(t.point),r}return null},e.prototype.fire=function(e){var t=this.aim();if(t){var i;e==this._orangePortalButtonNum&&(i=new n.Color(16750848),this._orangePortal&&this._loader.Remove(this._orangePortal.Mesh)),e==this._bluePortalButtonNum&&(i=new n.Color(255),this._bluePortal&&this._loader.Remove(this._bluePortal.Mesh));var o=new r(this._loader,i);o.Mesh.position.copy(t.position),o.Mesh.rotation.copy(t.rotation),o.Mesh.translateZ(.01),o.Camera.position.copy(t.position),o.Camera.rotation.copy(t.rotation),o.Camera.rotateY(Math.PI),e==this._orangePortalButtonNum&&(this._orangePortal=o,this._bluePortal&&this.openBothApertures()),e==this._bluePortalButtonNum&&(this._bluePortal=o,this._orangePortal&&this.openBothApertures())}},e.prototype.openBothApertures=function(){this._bluePortal.OpenAperture(this._orangePortal.Camera),this._orangePortal.OpenAperture(this._bluePortal.Camera)},e.prototype.makeMesh=function(){var e=new n.BoxGeometry(1,3,1),t=new n.MeshBasicMaterial,i=new n.Mesh(e,t);return i},e}();return o}),define(["require","exports"],function(e,t){var n=function(){function e(){}return e}();return n});var add=function(e,t){return e+t},$=function(e){return document.getElementById(e)},Calc=function(){function e(){}return e.prototype.add=function(e,t){return e+t},e}(),ListOfNumbers=function(){function e(){this._items=[]}return e.prototype.add=function(e){this._items.push(e)},e.prototype.getItems=function(){return this._items},e}(),ListOfStrings=function(){function e(){this._items=[]}return e.prototype.add=function(e){this._items.push(e)},e.prototype.getItems=function(){return this._items},e}();test2("33",!1);var ListOf=function(){function e(){this._items=[]}return e.prototype.add=function(e){this._items.push(e)},e.prototype.getItems=function(){return this._items},e}(),BankingAccount=function(){function e(){}return Object.defineProperty(e.prototype,"accountInfo",{get:function(){return{routingNum:"100",bankNum:2001}},enumerable:!0,configurable:!0}),e}(),__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},BaseClass=function(){function e(e){this._title=e}return e}(),ExtendsClass=function(e){function t(t){e.call(this,t)}return __extends(t,e),t}(BaseClass),Plant=function(){function e(){}return e.prototype.getName=function(e){return"string"==typeof e?"The name of this plane is: "+e:e},e}(),PlantInfo=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getName=function(t){var n=e.prototype.getName.call(this,t);return n},t}(Plant),Plant_2=function(){function e(e){this._plant=e}return e.prototype.getName=function(){return"The name of this plane is: "+this._plant},e}(),PlantInfo_2=function(e){function t(t){e.call(this,t),this._plant=t}return __extends(t,e),t.prototype.getName=function(){return"The name of this plant is: "+this._plant+". The plant ID is 1234"},t}(Plant_2),OptionalPropClass=function(){function e(){this.mandatory="hello"}return e}(),Greeter_2=function(){function e(){}return e.prototype.greet=function(e){log(e.greeting)},e}(),Message=function(){function e(){this.greeting="hello!"}return e}(),CheckingAccount=function(){function e(e){this.balance=e}return e.prototype.deposit=function(){},e.prototype.withdrawl=function(){return 0},e}(),mySearch;mySearch=function(e){return!0},define(["require","exports","three","Vector","Shaders"],function(e,t,n,i,r){var o=function(){function e(e){this.SpawnPoint=e,this._floorThickness=.1,this._wallHeight=5,this.Rooms=[],this.Doodads=[]}return e.prototype.AddPoints=function(e){this.makeRoom(e)},e.prototype.makeRoom=function(e){for(var t=new n.Shape,i=0;i<e.length;i++){var r=e[i];0==i?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),this.findRoomBisectors(i,e)}this.extrude(t,this._floorThickness,"floor"),this.extrude(t,this._floorThickness,"ceiling",this._wallHeight)},e.prototype.findRoomBisectors=function(e,t){var r=t[e],o=t[e+1],a=t[e+2];void 0===a&&(a=t[0]),void 0===o&&(o=t[0],a=t[1]);var s=new n.Shape;s.moveTo(r.x,r.y),s.lineTo(o.x,o.y);var u=i.Subtract(o,r),c=i.Subtract(o,a),h=i.Add(i.Bisector(u,c),o);if(i.PointInPoly(h,t)){var l=i.Add(i.Negative(i.Bisector(u,c)),o);s.lineTo(l.x,l.y)}else s.lineTo(h.x,h.y);this.extrude(s,this._wallHeight,"wall")},e.prototype.extrude=function(e,t,i,r){var o={amount:t,bevelEnabled:!1},a=new n.ExtrudeGeometry(e,o),s=(new n.Matrix4).makeTranslation(0,0,-t);a.applyMatrix(s),this.addRoom(a,i,r)},e.prototype.addRoom=function(e,t,i){var o=r.Materials.Get(t),a=new n.Mesh(e,o);a.geometry.computeFaceNormals(),a.geometry.computeVertexNormals(),a.rotation.x+=Math.PI/2,void 0!==i&&a.position.setY(i),this.Rooms.push(a)},e.prototype.addTestCube=function(e){var t=new n.BoxGeometry(1,1,1),i=new n.MeshBasicMaterial({color:65280}),r=new n.Mesh(t,i);r.position.set(e.x,0,e.y),this.Doodads.push(r)},e}();return o}),define(["require","exports","Animator","Controller"],function(e,t,n,i){var r=function(){function e(e,t,i){this.Scene=e,this.Camera=t,this.Renderer=i,this.Animator=new n(this,t,i),console.info("new loader created")}return e.prototype.LoadLevel=function(e){for(var t=e.Rooms.concat(e.Doodads),n=0;n<t.length;n++)this.Add(t[n]);this.Controller=new i(this.Camera,this.Animator.Renderer.container,e,this),this.Controller.GetObject().position.set(e.SpawnPoint.x,this.Controller.GetHeight(),e.SpawnPoint.y),this.Add(this.Controller.GetObject())},e.prototype.Add=function(e){this.Scene.add(e)},e.prototype.Remove=function(e){e.geometry.dispose(),console.log(e.material),this.Scene.remove(e)},e}();return r}),define(["require","exports","three","Loader","Level"],function(e,t,n,i,r){var o=function(){function e(){}return e.addRenderer=function(e,t,i){var r=new n.WebGLRenderer({antialias:!0});return r.setSize(e,t),i.appendChild(r.domElement),r.container=i,r},e.addCamera=function(e,t){return new n.PerspectiveCamera(this._fov,e/t,this._camNear,this._camFar)},e.addLight=function(){var e=new n.DirectionalLight(16777215,1);e.position.set(-1,1,0);var t=new n.AmbientLight(3355443);return e.add(t),e},e.Start=function(e){void 0===e&&(e="webGL");var t=document.getElementById(e);if(null===t)return console.error("webGL container not found");var r=t.offsetWidth,o=t.offsetHeight,a=new i(new n.Scene,this.addCamera(r,o),this.addRenderer(r,o,t));a.Add(this.addLight()),this.loadTestLevel(a)},e.LoadScene=function(e){},e.loadTestLevel=function(e){var t={x:0,y:-10.5},n=new r(t),i=[{x:-10,y:10},{x:-10,y:-10},{x:-5,y:-15},{x:-5,y:-35},{x:5,y:-35},{x:5,y:-15},{x:10,y:-10},{x:10,y:10},{x:5,y:10},{x:5,y:-5},{x:-5,y:-5},{x:-5,y:10}];n.AddPoints(i),e.LoadLevel(n)},e._fov=45,e._camNear=.1,e._camFar=1e3,e}();return o}),define(["require","exports","Shaders"],function(e,t,n){var i=function(){function e(e,t){this._loader=e,this._isApertureOpen=!1,this._width=3,this._height=5;var n=e.Renderer.getSize();this._renderTarget=new THREE.WebGLRenderTarget(n.width,n.height,{format:THREE.RGBAFormat}),this.Camera=new THREE.PerspectiveCamera(e.Camera.fov,e.Camera.aspect,e.Camera.near,e.Camera.far),this.Mesh=this.makeMesh(this._renderTarget,e,this.Camera,t),this._loader.Add(this.Camera),this._loader.Add(this.Mesh)}return e.prototype.OpenAperture=function(e){this._material.SetCamera(e),this._isApertureOpen||this._material.OpenAperture(),this._isApertureOpen=!0},e.prototype.makeMesh=function(e,t,i,r){var o=new THREE.PlaneGeometry(this._width,this._height,.001);this._material=new n.PortalShader(e,t,i,r);var a=new THREE.Mesh(o,this._material);return a},e}();return i});var MainClass=function(){function e(){}return e.StartScene=function(t){e.Scenes[t].Start()},e.Scenes=[],e}(),Scene=function(){function e(e,t){this._onStartFunctions=[],this._assets=[],this._scene=void 0,this._loader=void 0,this._scene=e,this._loader=t,MainClass.Scenes.push(this)}return Object.defineProperty(e.prototype,"OnStartFunctions",{get:function(){return this._onStartFunctions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Assets",{get:function(){return this._assets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Loader",{get:function(){return this._loader},enumerable:!0,configurable:!0}),e.prototype.Start=function(){for(var e=0;e<this._onStartFunctions.length;e++)this._onStartFunctions[e](this._scene,this._loader);for(var e=0;e<this._assets.length;e++)console.log(this._loader+" loading "+this._assets[e])},e.prototype.OnStart=function(e){this._onStartFunctions.push(e)},e.prototype.AddAsset=function(e){this._assets.push(e)},e}(),__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};define(["require","exports","Updater","three"],function(e,t,n,i){var r;return function(e){var t=function(){function t(){}return t.Get=function(t){switch(t){case"floor":case"ceiling":return new e.FloorShader(this._dataTexture);case"wall":return new e.WallShader(this._dataTexture);case"portal":break;default:return new i.MeshBasicMaterial({color:65280})}},t.makeDataTexture=function(){for(var e=8,t=e*e,n=new Uint8Array(4*t),r=0;4*t>r;r++)n[r]=255*Math.random()|0;var o=new i.DataTexture(n,e,e,i.RGBAFormat);return o.wrapS=i.RepeatWrapping,o.wrapT=i.RepeatWrapping,o.needsUpdate=!0,o},t._dataTexture=t.makeDataTexture(),t}();e.Materials=t;var r=function(e){function t(t){this._set={uniforms:{map:{type:"t",value:t},gridSize:{type:"f",value:5},time:{type:"f",value:0},timeFlow:{type:"f",value:.01}},vertexShader:this.vertShader(),fragmentShader:this.fragShader()},e.call(this,this._set),n.Add(this)}return __extends(t,e),t.prototype.Update=function(){},t.prototype.vertShader=function(){return["varying vec2 vUv;","void main(){","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n")},t.prototype.fragShader=function(){return["#define BROWN vec4(0.647059, 0.164706, 0.164706, 1.)\n","#define GREY vec4(0.362745, 0.362745, 0.362745, 1.)\n","uniform sampler2D map;","uniform float gridSize;","uniform float time;","varying vec2 vUv;","void main(){","vec4 mapColor = texture2D( map, vUv );","vec4 grid = vec4(sin(vUv.y * gridSize + time) * sin(vUv.x * gridSize + time));","vec4 invGrid = vec4(-sin(vUv.y * gridSize + time) * sin(vUv.x * gridSize + time));","grid = step(0., grid);","if(grid.g <= 0.) grid += smoothstep(0., 1., invGrid.x) * BROWN;","else grid = GREY;","gl_FragColor = grid;","}"].join("\n")},t}(i.ShaderMaterial);e.FloorShader=r;var o=function(e){function t(t){this._set={uniforms:{map:{type:"t",value:t},gridSize:{type:"f",value:5},time:{type:"f",value:0},timeFlow:{type:"f",value:.05}},vertexShader:this.vertShader(),fragmentShader:this.fragShader()},e.call(this,this._set),n.Add(this)}return __extends(t,e),t.prototype.Update=function(){this._set.uniforms.time.value+=this._set.uniforms.timeFlow.value},t.prototype.vertShader=function(){return["varying vec2 vUv;","void main(){","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n")},t.prototype.fragShader=function(){return["#define BROWN vec4(0.647059, 0.164706, 0.164706, 1.)\n","#define GREY vec4(0.362745, 0.362745, 0.362745, 1.)\n","#define BLACK vec4(0., 0., 0., 1.)\n","uniform sampler2D map;","uniform float gridSize;","uniform float time;","varying vec2 vUv;","void main(){","float stripeY = sin(vUv.y * gridSize);","float stripeX = sin(vUv.x * gridSize);","vec4 grid = GREY;","if(stripeY <= 0.) {","if(stripeX > 0.99) grid = BLACK;","}","else{","if(stripeX < -0.99) grid = BLACK;","}","if(stripeY > -0.1 && stripeY < 0.) grid = BLACK;","gl_FragColor = grid;","}"].join("\n")},t}(i.ShaderMaterial);e.WallShader=o;var a=function(){function e(e,t,i,r){this._shader=e,this._value=t,this._max=i,this._increment=r,n.Add(this)}return e.prototype.Update=function(){this._shader._set.uniforms[this._value].value>=this._shader[this._max]&&(this._shader._set.uniforms[this._value].value=this._shader[this._max],n.Remove(this)),this._shader._set.uniforms[this._value].value+=this._increment},e}(),s=function(e){function t(t,i,r,o){this._loader=i,this._camera=r,this._timeFlow=.005,this._apertureTimeFlow=.1,this._maxSize=.4,this._maxAperture=.35,this._set={uniforms:{map:{type:"t",value:t},gridSize:{type:"f",value:5},time:{type:"f",value:0},color:{type:"c",value:o},aperture:{type:"f",value:0},size:{type:"f",value:0}},vertexShader:this.vertShader(),fragmentShader:this.fragShader()},e.call(this,this._set),this.openPortal(),n.Add(this)}return __extends(t,e),t.prototype.Update=function(){this._set.uniforms.time.value+=this._timeFlow,this._loader.Renderer.render(this._loader.Scene,this._camera,this.uniforms.map.value),this._loader.Renderer.render(this._loader.Scene,this._camera,this.uniforms.map.value)},t.prototype.SetCamera=function(e){this._camera=e},t.prototype.openPortal=function(){new a(this,"size","_maxSize",this._apertureTimeFlow)},t.prototype.OpenAperture=function(){new a(this,"aperture","_maxAperture",this._apertureTimeFlow)},t.prototype.vertShader=function(){return["varying vec2 vUv;","void main(){","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n")},t.prototype.fragShader=function(){return["#define BROWN vec4(0.647059, 0.164706, 0.164706, 1.)\n","#define GREY vec4(0.362745, 0.362745, 0.362745, 1.)\n","#define BLACK vec4(0., 0., 0., 1.)\n","uniform sampler2D map;","uniform vec3 color;","uniform float time;","uniform float aperture;","uniform float size;","varying vec2 vUv;","void main(){","vec4 mapColor = texture2D( map, vUv );","vec2 mid = vec2(.5, .5);","vec2 p = vUv - mid;","float radius = length(p);","float angle = abs(atan(p.y, p.x));","if(radius - 1.45 > sin(abs(angle + time) * 32.)) discard;","if(radius > size) discard;","if(radius > aperture && radius < 0.5) {","mapColor = vec4(color, 1.);","}","gl_FragColor = mapColor;","}"].join("\n")},t}(i.ShaderMaterial);e.PortalShader=s}(r||(r={})),r}),define(["require","exports"],function(e,t){var n=function(){function e(){}return e}();t.testPad=n});var ParamsTest=function(){function e(){this.color=16777215}return e}(),Main=function(){function e(){}return e.Init=function(){},e}();Main.Init(),define(["require","exports"],function(e,t){var n=function(){function e(){}return e.AddPoints=function(e){for(var t=0;t<e.length;t++)console.log(e[t])},e}();return n}),define(["require","exports"],function(e,t){var n=function(){function e(){}return e.Add=function(e){this._handlers.push(e)},e.Remove=function(e){var t=this._handlers.indexOf(e);t>-1&&this._handlers.splice(t,1)},e.Clear=function(){this._handlers.length=0},e.Update=function(){for(var e=0;e<this._handlers.length;e++)this._handlers[e].Update()},e._handlers=[],e}();return n}),define(["require","exports"],function(e,t){var n=function(){function e(){}return e.Bisector=function(e,t){var n=this.Normalize(e),i=this.Normalize(t),r=this.Add(n,i);return r},e.Add=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},e.Subtract=function(e,t){return{x:e.x+-t.x,y:e.y+-t.y}},e.Magnitude=function(e){return Number(Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)).toFixed(this.floatPrecision))},e.Normalize=function(e){var t=this.Magnitude(e);return{x:e.x/t,y:e.y/t}},e.Negative=function(e){return{x:-1*e.x,y:-1*e.y}},e.Scale=function(e,t){var n=this.Normalize(e);return{x:n.x*t,y:n.y*t}},e.PointInPoly=function(e,t){for(var n=e.x,i=e.y,r=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o].x,u=t[o].y,c=t[a].x,h=t[a].y,l=u>i!=h>i&&(c-s)*(i-u)/(h-u)+s>n;l&&(r=!r)}return r},e.floatPrecision=2,e}();return n});